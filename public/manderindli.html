<!DOCTYPE html>
<link rel="stylesheet" href="css/manderindlistyle.css" />
<html>
    <head>
        <title>Citrus reticulata</title>
        <link rel="shortcut icon" type="image/jpg" href="./Icons/mandarine.ico" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <meta charset="UTF-8" />
        <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.min.js" type="text/javascript"></script>
    </head>
    <body>
        <div class="content">
            <div class="slices">
                <img src="img/tangerine.png" alt="" />
            </div>

            <div class="title">
                <h1>Segment-variation of <em>Citrus Reticulata</em> (tangerine)</h1>
                <h3>An attempt to fill this statistical gap in research by <em>Bucher et al.</em></h3>
                <h4>Soon to be published at <em>Nature</em> (2023).</h4>
            </div>

            <div class="new-datapoint">
                <h2>Add new data point</h2>
                <form class="lists">
                    <input type="text" name="slices" id="sliceInput" value="" />
                    <input
                        class="submit-buttom"
                        value="Add number of slices"
                        onclick="add_slice()"
                    />
                </form>
            </div>

            <div class="statistics">
                <h2>Statistics</h2>
                <table>
                    <tr>
                        <td>Total # of Fruits</td>
                        <td id="sum_of_fruits"></td>
                    </tr>
                    <tr>
                        <td>Total # of Segments</td>
                        <td id="total_slices"></td>
                    </tr>
                    <tr>
                        <td>Median # of Segments</td>
                        <td id="median_of_slices"></td>
                    </tr>
                    <tr>
                        <td>Mean # of Segments</td>
                        <td id="mean_of_slices"></td>
                    </tr>
                    <tr>
                        <td>Standard Deviation</td>
                        <td id="stab_of_slices"></td>
                    </tr>
                </table>
            </div>

            <h2>Normalized Histogram of Slice Distribution</h2>
            <div class="chart" id="plot-01-bar"></div>

            <h2>Boxplot of distribution</h2>
            <div class="chart" id="plot-02-boxplot"></div>
            <div id="test"></div>
        </div>

        <div class="footer-wrapper">
            <div class="footer">
                <div class="share">
                    <p>Teile diese Seite</p>
                    <a href="https://wa.me/?text=andresbucher.github.io/" target="_blank"
                        ><img src="./Icons/whatsapp.png" alt="WhatsApp"
                    /></a>
                    <a href="http://twitter.com/share?text=&amp;url=andresbucher.github.io/" target="_blank"
                        ><img src="./Icons/twitter.png" alt="Twitter"
                    /></a>
                    <a
                        href="https://www.facebook.com/sharer/sharer.php?u=https://andresbucher.github.io//"
                        target="_blank"
                        ><img src="./Icons/facebook.png" alt="Facebook"
                    /></a>
                </div>
                <p>Copyright Â© 2022 All rights reserved.</p>
                <a href="mailto:andresbucher@gmx.net" target="_blank">Kontakt</a>
            </div>
        </div>

        <script src="https://cdn.plot.ly/plotly-2.16.1.min.js" type="text/javascript"></script>
        <script src="./dist/manderindli.js" type="text/javascript"></script>
        <script>
            async function draw_diagramm() {
                await manderindli.draw_bar_diagram();
                await manderindli.draw_boxplot();
            };

            async function reload_data() {
                document.getElementById("sum_of_fruits").innerHTML = await manderindli.getSumOfFruits();
                document.getElementById("total_slices").innerHTML = await manderindli.getTotalSlices();
                document.getElementById("median_of_slices").innerHTML = await manderindli.getMedian();
                document.getElementById("mean_of_slices").innerHTML = await manderindli.getMean();
                document.getElementById("stab_of_slices").innerHTML = await manderindli.getStabOfSlices();
            };

            

            async function add_slice() {
                manderindli.add(document.getElementById('sliceInput').value);
                document.getElementById("sliceInput").value = "";
                await reload_data();
                await draw_diagramm();
                
            };

            window.onload = async function () {
                console.log("window loaded");
                await reload_data(); 
                await draw_diagramm();
            };
        </script>
    </body>
</html>
